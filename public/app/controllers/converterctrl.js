// Generated by CoffeeScript 1.6.3
AngularRgb2Hex.controller("ConverterCtrl", [
  "$window", "$scope", '$rootScope', function($window, $scope, $rootScope) {
    $scope.model = {
      aRGB: {
        iRed: 100,
        iGreen: 200,
        iBlue: 300
      }
    };
    ({
      sHexResult: ''
    });
    $rootScope.sCurYear = (new Date()).getFullYear();
    $scope.componentToHex = function(iColor) {
      var sHex;
      if (iColor == null) {
        iColor = 0;
      }
      iColor = parseInt(iColor, 10);
      iColor = iColor ? iColor : 0;
      sHex = iColor.toString(16).slice(-2);
      if (sHex.length === 1) {
        return "0" + sHex;
      } else {
        return sHex;
      }
    };
    $scope.rgbToHex = function(r, g, b) {
      if (r == null) {
        r = 0;
      }
      if (g == null) {
        g = 0;
      }
      if (b == null) {
        b = 0;
      }
      return "#" + $scope.componentToHex(r) + $scope.componentToHex(g) + $scope.componentToHex(b);
    };
    $scope.applyRgbToHex = function() {
      var oBody, sHexColor;
      sHexColor = $scope.rgbToHex($scope.model.aRGB.iRed, $scope.model.aRGB.iGreen, $scope.model.aRGB.iBlue);
      oBody = angular.element("body");
      oBody.css({
        'background-color': sHexColor
      });
      $scope.model.sHexResult = "" + sHexColor;
    };
    $scope.$watch('model.aRGB.iRed', function(oNewVal, oOldVal) {
      $scope.applyRgbToHex();
    });
    $scope.$watch('model.aRGB.iGreen', function(oNewVal, oOldVal) {
      $scope.applyRgbToHex();
    });
    $scope.$watch('model.aRGB.iBlue', function(oNewVal, oOldVal) {
      $scope.applyRgbToHex();
    });
  }
]);
